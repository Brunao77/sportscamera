---
import Layout from '../layouts/Layout.astro';
import FormSearchVideo from '../components/FormSearchVideo.jsx'
import Establishment from '../icons/Establishment.astro'

const establishments = await fetch('http://localhost:3000/api/establishment').then((response) =>
  response.json()
);

const optionsEstablishments = establishments.map(({establishment_id, name}) => {
	return {value: establishment_id, text:name}
})
---

<Layout title="SportsCamera!">
	<section class="bg-primary text-white md:h-auto h-1/2 text-center flex flex-col items-center justify-center md:rounded-b-xl md:rounded-l-xl md:rounded-br-none gap-5 py-4 md:py-0">
		<h1 class="font-medium text-5xl">SportsCamera!</h1>
		<p class="m-0 font-light text-l w-3/4">Servicio de grabacion en establecimientos deportivos</p>
		<a class="rounded-2xl border p-3" href="/sign-in">INICIAR SESION</a>
	</section>
	<section class="bg-white h-full rounded-t-xl md:rounded-r-xl md:rounded-tl-none flex flex-col gap-5 items-center justify-between p-10 px-20">
		<strong class="text-5xl text-primary font-medium text-nowrap">Buscar video</strong>
		<FormSearchVideo options={optionsEstablishments} client:visible />
		<a class="text-terciary cursor-pointer" href="/contact">Contactanos!</a>
	</section>
</Layout>
